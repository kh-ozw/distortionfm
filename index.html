<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Distortion.fm</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-420KNS52DK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-420KNS52DK');
    </script>
    <script>
        window.addEventListener("DOMContentLoaded", () => {
            fetch('https://anchor.fm/s/db286500/podcast/rss')
                .then(res => res.text())
                .then(data => {
                    const eipsodedWrapper = document.getElementById("episodes");

                    // RSSフィードをパースしてエピソード（item）を取得する
                    const parser = new window.DOMParser();
                    const feed = parser.parseFromString(data, "text/xml");
                    const items = feed.getElementsByTagName("item");

                    for (item of items) {
                        const a = document.createElement("a");
                        a.href = item.getElementsByTagName("link")[0].textContent;
                        a.innerText = item.getElementsByTagName("title")[0].textContent;
                        a.target = "_blank";
                        const li = document.createElement("li");
                        li.appendChild(a);
                        eipsodedWrapper.appendChild(li);
                    }
                });
        });
    </script>
</head>
<body>
    <h1>Episodes</h1>
    <ul id="episodes"></ul>

    <h1>Subscribe</h1>
    <ul>
        <li><a href="https://podcasts.apple.com/us/podcast/matsumaru-fm/id1673223077">Apple Podcasts</a></li>
        <li><a href="https://podcasts.google.com/feed/aHR0cHM6Ly9hbmNob3IuZm0vcy9kYjI4NjUwMC9wb2RjYXN0L3Jzcw">Google Podcasts</a></li>
        <li><a href="https://open.spotify.com/show/1PbcevHJLQQx19Uhf8LkiX">Spotify</a></li>
    </ul>
</body>
</html>